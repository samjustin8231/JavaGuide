#为什么需要连接池

客户端建立一次连接耗时太长(建立连接，设置字符集，autocommit等)，如果在每个sql操作都需要经历建立连接，关闭连接。不仅应用程序响应慢，而且会产生很多临时对象，应用服务器GC压力大。另外数据库server端对连接也有限制，比如MySQL默认151个连接(实际环境中一般会调大这个值，尤其是多个服务时)


现在面临的问题就是如何提高对稀缺性的资源高效管理。因为客户端与数据库的连接本质就是tcp请求，加上基于tcp协议封装的mysql请求。那么通常解决这类问题，我们有两种方式，一种是池话技术，即使用一个容器，提前创建好连接，请求时直接从池子里面拿，另外一种就是利用IO多路复用技术。利于在spring5中，mongo ,cassandra等数据库的访问就可以利用reactive来实现了，但是关系型数据库不行，原因在于关型数据库的访问目前都是基于JDBC,JDBC操作数据库的流程，建立connection,构建Statement，执行这一套是串行的，阻塞型。一个事务中的多个操作只能在同一个连接中完成。所以不能使用IO多路复用技术，是受限于JDBC的阻塞。对于其他语言，是可以的，比如nodejs


所以我们使用池话技术来提供数据库访问

`todo 未完待续。。。`
![图片](https://github.com/samjustin8231/JavaGuide/blob/master/mysql%E6%95%B0%E6%8D%AE%E5%BA%93/set%20head%20node%20for%20blocking%20queue.png)


# 参考文献
[数据库连接(2) - 为什么C3P0连接池那么慢](https://juejin.im/post/5cc191cd6fb9a03228616d89)